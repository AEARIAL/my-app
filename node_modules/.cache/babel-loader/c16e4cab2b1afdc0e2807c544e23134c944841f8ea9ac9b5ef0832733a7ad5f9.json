{"ast":null,"code":"import React,{useState}from'react';import'./Cart.css';// カートのスタイルを追加\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=_ref=>{let{cartItems,setCartItems}=_ref;const[showPopup,setShowPopup]=useState(false);// ポップアップの表示状態\nconst[selectedItem,setSelectedItem]=useState(null);// 選択されたアイテム\n// 合計金額の計算\nconst totalAmount=cartItems.reduce((total,item)=>total+item.price*item.quantity,0);const handleItemClick=item=>{setSelectedItem(item);// アイテムを選択\nsetShowPopup(true);// ポップアップを表示\n};const handleClosePopup=()=>{setShowPopup(false);// ポップアップを閉じる\n};const handleQuantityChange=(itemId,newQuantity)=>{if(newQuantity<1)return;// 0以下の数量を無効化\nconst updatedItems=cartItems.map(item=>item.id===itemId?{...item,quantity:newQuantity}:item);setCartItems(updatedItems);};const handleRemoveItem=itemId=>{const updatedItems=cartItems.filter(item=>item.id!==itemId);setCartItems(updatedItems);};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u30AB\\u30FC\\u30C8\"}),cartItems.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u30AB\\u30FC\\u30C8\\u306B\\u30A2\\u30A4\\u30C6\\u30E0\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items\",children:[/*#__PURE__*/_jsx(\"ul\",{children:cartItems.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"cart-item-image\",onClick:()=>handleItemClick(item)// 画像部分クリックで発火\n}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-name\",onClick:()=>handleItemClick(item)// 商品名部分クリックで発火\n,children:item.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-pricing\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Cost: \",item.price]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u6570\\u91CF:\",' ',/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:item.quantity,onChange:e=>handleQuantityChange(item.id,parseInt(e.target.value,10))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-subtotal\",children:[\"\\u5C0F\\u8A08: \",item.price*item.quantity]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-button\",onClick:e=>{e.stopPropagation();// 親のクリックイベントを防止\nhandleRemoveItem(item.id);},children:\"\\u524A\\u9664\"})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-total\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u5408\\u8A08Cost: \",totalAmount]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkout-button\",children:\"\\u8CFC\\u5165\\u624B\\u7D9A\\u304D\\u3078\\u9032\\u3080\"})]})]}),showPopup&&selectedItem&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",onClick:handleClosePopup,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedItem.name}),/*#__PURE__*/_jsx(\"p\",{children:selectedItem.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cost:\"}),\" \",selectedItem.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleClosePopup,children:\"\\u9589\\u3058\\u308B\"})]})})]});};export default Cart;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Cart","_ref","cartItems","setCartItems","showPopup","setShowPopup","selectedItem","setSelectedItem","totalAmount","reduce","total","item","price","quantity","handleItemClick","handleClosePopup","handleQuantityChange","itemId","newQuantity","updatedItems","map","id","handleRemoveItem","filter","className","children","length","src","image","alt","name","onClick","type","min","value","onChange","e","parseInt","target","stopPropagation","description"],"sources":["C:/Users/koki8/my-app/src/Cart.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Cart.css'; // カートのスタイルを追加\r\n\r\nconst Cart = ({ cartItems, setCartItems }) => {\r\n  const [showPopup, setShowPopup] = useState(false); // ポップアップの表示状態\r\n  const [selectedItem, setSelectedItem] = useState(null); // 選択されたアイテム\r\n\r\n  // 合計金額の計算\r\n  const totalAmount = cartItems.reduce(\r\n    (total, item) => total + item.price * item.quantity,\r\n    0\r\n  );\r\n\r\n  const handleItemClick = (item) => {\r\n    setSelectedItem(item); // アイテムを選択\r\n    setShowPopup(true); // ポップアップを表示\r\n  };\r\n\r\n  const handleClosePopup = () => {\r\n    setShowPopup(false); // ポップアップを閉じる\r\n  };\r\n\r\n  const handleQuantityChange = (itemId, newQuantity) => {\r\n    if (newQuantity < 1) return; // 0以下の数量を無効化\r\n    const updatedItems = cartItems.map((item) =>\r\n      item.id === itemId ? { ...item, quantity: newQuantity } : item\r\n    );\r\n    setCartItems(updatedItems);\r\n  };\r\n\r\n  const handleRemoveItem = (itemId) => {\r\n    const updatedItems = cartItems.filter((item) => item.id !== itemId);\r\n    setCartItems(updatedItems);\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart\">\r\n      <h2>カート</h2>\r\n\r\n      {cartItems.length === 0 ? (\r\n        <p>カートにアイテムがありません。</p>\r\n      ) : (\r\n        <div className=\"cart-items\">\r\n          <ul>\r\n            {cartItems.map((item) => (\r\n              <li key={item.id} className=\"cart-item\">\r\n                {/* 商品画像と商品名 */}\r\n                <div className=\"cart-item-image-container\">\r\n                  <img\r\n                    src={item.image}\r\n                    alt={item.name}\r\n                    className=\"cart-item-image\"\r\n                    onClick={() => handleItemClick(item)} // 画像部分クリックで発火\r\n                  />\r\n                  <div\r\n                    className=\"cart-item-name\"\r\n                    onClick={() => handleItemClick(item)} // 商品名部分クリックで発火\r\n                  >\r\n                    {item.name}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* 単価と数量 */}\r\n                <div className=\"cart-item-pricing\">\r\n                  <p>Cost: {item.price}</p>\r\n                  <div>\r\n                    数量:{' '}\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      value={item.quantity}\r\n                      onChange={(e) =>\r\n                        handleQuantityChange(item.id, parseInt(e.target.value, 10))\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* 小計 */}\r\n                <div className=\"cart-item-subtotal\">\r\n                  小計: {item.price * item.quantity}\r\n                </div>\r\n\r\n                {/* 削除ボタン */}\r\n                <button\r\n                  className=\"remove-button\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation(); // 親のクリックイベントを防止\r\n                    handleRemoveItem(item.id);\r\n                  }}\r\n                >\r\n                  削除\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n\r\n          <div className=\"cart-total\">\r\n            <h3>合計Cost: {totalAmount}</h3>\r\n            <button className=\"checkout-button\">購入手続きへ進む</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ポップアップ */}\r\n      {showPopup && selectedItem && (\r\n        <div className=\"popup-overlay\" onClick={handleClosePopup}>\r\n          <div className=\"popup\" onClick={(e) => e.stopPropagation()}>\r\n            <h3>{selectedItem.name}</h3>\r\n            <p>{selectedItem.description}</p>\r\n            <p>\r\n              <strong>Cost:</strong> {selectedItem.price}\r\n            </p>\r\n            <button className=\"close-button\" onClick={handleClosePopup}>\r\n              閉じる\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,YAAY,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,IAAI,CAAGC,IAAA,EAAiC,IAAhC,CAAEC,SAAS,CAAEC,YAAa,CAAC,CAAAF,IAAA,CACvC,KAAM,CAACG,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAAE;AACnD,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAAE;AAExD;AACA,KAAM,CAAAa,WAAW,CAAGN,SAAS,CAACO,MAAM,CAClC,CAACC,KAAK,CAAEC,IAAI,GAAKD,KAAK,CAAGC,IAAI,CAACC,KAAK,CAAGD,IAAI,CAACE,QAAQ,CACnD,CACF,CAAC,CAED,KAAM,CAAAC,eAAe,CAAIH,IAAI,EAAK,CAChCJ,eAAe,CAACI,IAAI,CAAC,CAAE;AACvBN,YAAY,CAAC,IAAI,CAAC,CAAE;AACtB,CAAC,CAED,KAAM,CAAAU,gBAAgB,CAAGA,CAAA,GAAM,CAC7BV,YAAY,CAAC,KAAK,CAAC,CAAE;AACvB,CAAC,CAED,KAAM,CAAAW,oBAAoB,CAAGA,CAACC,MAAM,CAAEC,WAAW,GAAK,CACpD,GAAIA,WAAW,CAAG,CAAC,CAAE,OAAQ;AAC7B,KAAM,CAAAC,YAAY,CAAGjB,SAAS,CAACkB,GAAG,CAAET,IAAI,EACtCA,IAAI,CAACU,EAAE,GAAKJ,MAAM,CAAG,CAAE,GAAGN,IAAI,CAAEE,QAAQ,CAAEK,WAAY,CAAC,CAAGP,IAC5D,CAAC,CACDR,YAAY,CAACgB,YAAY,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAG,gBAAgB,CAAIL,MAAM,EAAK,CACnC,KAAM,CAAAE,YAAY,CAAGjB,SAAS,CAACqB,MAAM,CAAEZ,IAAI,EAAKA,IAAI,CAACU,EAAE,GAAKJ,MAAM,CAAC,CACnEd,YAAY,CAACgB,YAAY,CAAC,CAC5B,CAAC,CAED,mBACEpB,KAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5B,IAAA,OAAA4B,QAAA,CAAI,oBAAG,CAAI,CAAC,CAEXvB,SAAS,CAACwB,MAAM,GAAK,CAAC,cACrB7B,IAAA,MAAA4B,QAAA,CAAG,4FAAe,CAAG,CAAC,cAEtB1B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5B,IAAA,OAAA4B,QAAA,CACGvB,SAAS,CAACkB,GAAG,CAAET,IAAI,eAClBZ,KAAA,OAAkByB,SAAS,CAAC,WAAW,CAAAC,QAAA,eAErC1B,KAAA,QAAKyB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC5B,IAAA,QACE8B,GAAG,CAAEhB,IAAI,CAACiB,KAAM,CAChBC,GAAG,CAAElB,IAAI,CAACmB,IAAK,CACfN,SAAS,CAAC,iBAAiB,CAC3BO,OAAO,CAAEA,CAAA,GAAMjB,eAAe,CAACH,IAAI,CAAG;AAAA,CACvC,CAAC,cACFd,IAAA,QACE2B,SAAS,CAAC,gBAAgB,CAC1BO,OAAO,CAAEA,CAAA,GAAMjB,eAAe,CAACH,IAAI,CAAG;AAAA,CAAAc,QAAA,CAErCd,IAAI,CAACmB,IAAI,CACP,CAAC,EACH,CAAC,cAGN/B,KAAA,QAAKyB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC1B,KAAA,MAAA0B,QAAA,EAAG,QAAM,CAACd,IAAI,CAACC,KAAK,EAAI,CAAC,cACzBb,KAAA,QAAA0B,QAAA,EAAK,eACA,CAAC,GAAG,cACP5B,IAAA,UACEmC,IAAI,CAAC,QAAQ,CACbC,GAAG,CAAC,GAAG,CACPC,KAAK,CAAEvB,IAAI,CAACE,QAAS,CACrBsB,QAAQ,CAAGC,CAAC,EACVpB,oBAAoB,CAACL,IAAI,CAACU,EAAE,CAAEgB,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE,EAAE,CAAC,CAC3D,CACF,CAAC,EACC,CAAC,EACH,CAAC,cAGNnC,KAAA,QAAKyB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,gBAC9B,CAACd,IAAI,CAACC,KAAK,CAAGD,IAAI,CAACE,QAAQ,EAC5B,CAAC,cAGNhB,IAAA,WACE2B,SAAS,CAAC,eAAe,CACzBO,OAAO,CAAGK,CAAC,EAAK,CACdA,CAAC,CAACG,eAAe,CAAC,CAAC,CAAE;AACrBjB,gBAAgB,CAACX,IAAI,CAACU,EAAE,CAAC,CAC3B,CAAE,CAAAI,QAAA,CACH,cAED,CAAQ,CAAC,GA/CFd,IAAI,CAACU,EAgDV,CACL,CAAC,CACA,CAAC,cAELtB,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB1B,KAAA,OAAA0B,QAAA,EAAI,oBAAQ,CAACjB,WAAW,EAAK,CAAC,cAC9BX,IAAA,WAAQ2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,kDAAQ,CAAQ,CAAC,EAClD,CAAC,EACH,CACN,CAGArB,SAAS,EAAIE,YAAY,eACxBT,IAAA,QAAK2B,SAAS,CAAC,eAAe,CAACO,OAAO,CAAEhB,gBAAiB,CAAAU,QAAA,cACvD1B,KAAA,QAAKyB,SAAS,CAAC,OAAO,CAACO,OAAO,CAAGK,CAAC,EAAKA,CAAC,CAACG,eAAe,CAAC,CAAE,CAAAd,QAAA,eACzD5B,IAAA,OAAA4B,QAAA,CAAKnB,YAAY,CAACwB,IAAI,CAAK,CAAC,cAC5BjC,IAAA,MAAA4B,QAAA,CAAInB,YAAY,CAACkC,WAAW,CAAI,CAAC,cACjCzC,KAAA,MAAA0B,QAAA,eACE5B,IAAA,WAAA4B,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACnB,YAAY,CAACM,KAAK,EACzC,CAAC,cACJf,IAAA,WAAQ2B,SAAS,CAAC,cAAc,CAACO,OAAO,CAAEhB,gBAAiB,CAAAU,QAAA,CAAC,oBAE5D,CAAQ,CAAC,EACN,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}